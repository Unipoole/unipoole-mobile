"use strict";synthMobile.controller("LearningUnitsListCtrl",["$scope","$rootScope","$filter","$window","LearningUnitsService","SynthErrorHandler",function(n,t,e,i,r,a){t.activePage="learning_units",t.breadcrumbs=[{name:"Learning Units"}],r.getUnits().then(function(t){n.units=t},a)}]).controller("LearningUnitsViewUnitCtrl",["$scope","$rootScope","$routeParams","LearningUnitsService","SynthErrorHandler",function(n,t,e,i,r){t.activePage="learning_units",t.breadcrumbs=[{name:"Learning Units",url:"#/tool/learning_units"}],n.unitId=e.unitId,i.getSection(e.unitId).then(function(e){n.unit=e,t.breadcrumbs=[{name:"Learning Units",url:"#/tool/learning_units"},{name:e.title}]},r),i.getSections(e.unitId,!0).then(function(t){n.sections=t},r)}]).controller("LearningUnitsViewSectionCtrl",["$scope","$q","$compile","$rootScope","$routeParams","SynthQLoop","LearningUnitsService","ResourcesService","SynthErrorHandler",function(n,t,e,i,r,a,o,c,s){function u(t){for(var e=0;e<t.length;e++)if(t[e].id==n.sectionId){n.section=t[e],e+1<t.length&&(n.nextSection=t[e+1]),e-1>=0&&(n.previousSection=t[e-1]);break}}function l(t){var i=angular.element("<div>");i.append(t.content),i.find("[data-resource-id]").each(function(){var t=$(this),i=angular.element("<resource-img />");i.attr("data-resource-id",t.attr("data-resource-id")),i.attr("data-src",t.attr("data-src")),i.attr("data-width",t.attr("width")),i.attr("data-height",t.attr("height"));var r=e(i)(n);t.replaceWith(r)}),$("#sectionContent").replaceWith(i)}i.activePage="learning_units",n.sectionId=r.sectionId,n.unitId=r.unitId,o.getSections(r.unitId,!0).then(function(n){u(n)},s),o.getSection(n.unitId).then(function(t){i.breadcrumbs=[{name:"Learning Units",url:"#/tool/learning_units"},{name:t.title,url:"#/tool/learning_units/"+n.unitId}]},s),o.getSection(r.sectionId).then(function(n){l(n)},s)}]);